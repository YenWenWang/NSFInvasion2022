<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Intro to Linux | Coinvasion Bioinformatics 2022</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="Intro to Linux" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Bioinformatics course for Coinvasion workshop 2022" />
<meta property="og:description" content="Bioinformatics course for Coinvasion workshop 2022" />
<link rel="canonical" href="http://localhost:4000/Linux/Intro" />
<meta property="og:url" content="http://localhost:4000/Linux/Intro" />
<meta property="og:site_name" content="Coinvasion Bioinformatics 2022" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Intro to Linux" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Bioinformatics course for Coinvasion workshop 2022","headline":"Intro to Linux","url":"http://localhost:4000/Linux/Intro"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Coinvasion Bioinformatics 2022" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Coinvasion Bioinformatics 2022</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/">Home</a><a class="page-link" href="/Linux">Linux course</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Intro to Linux</h1>
  </header>

  <div class="post-content">
    <h2 id="what-are-we-going-to-learn">What are we going to learn?</h2>

<p>Please press hint if only necessary</p>

<p><br /></p>

<p><img src="/img/band.png" alt="band" /></p>

<p><br /></p>

<h2 id="review">Review</h2>
<p>Should be simple if you have done the exercises before</p>

<h3 id="directory-navigation">Directory Navigation</h3>

<p>What’s the Present Working Directory? (i.e. which directory are you in?)</p>
<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>pwd  </pre>
</details>
<p><br /></p>

<p>Change Directory to <code class="language-plaintext highlighter-rouge">XXXXXXXXXX</code>.</p>
<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>cd XXXXXXXXX  </pre>
  OR
  <pre>cd YYYYYYYYY  </pre>
</details>
<p><br /></p>

<p>Go to the parent directory.</p>
<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>cd ..  </pre>
</details>
<p><br /></p>

<p>Go to back to the directory you were in (<code class="language-plaintext highlighter-rouge">XXX</code>).</p>
<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>cd -  </pre>
</details>

<details>
  <summary><b><u>Click to learn more</u></b></summary>
  You can use <code>cd -</code> to hop back and forth between two directories.
</details>
<p><br /></p>

<p>Go to the home directory.</p>
<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>cd  </pre>
  OR
  <pre>cd ~  </pre>
</details>
<p><br /></p>

<h3 id="file-exploration">File Exploration</h3>
<p>First, go to directory <code class="language-plaintext highlighter-rouge">XXXXX</code>.<br />
Then, LiSt the files.</p>
<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>ls  </pre>
</details>
<p><br /></p>

<p>Which is the oldest file and which is the largest file?</p>
<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>ls -lh  </pre>
</details>

<details>
  <summary><b><u>Click to learn more!</u></b></summary>
  You can sort the files by time and size!
  <pre>ls -lht  
ls -lhS  </pre>
</details>
<p><br /></p>

<p>What’s in <code class="language-plaintext highlighter-rouge">directory"X"</code>, where X can be anything?</p>
<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>ls directory*  </pre>
  <code>*</code> is one of the wildcards, it can be anything at any length! However, the syntax is not the same in every situation. We will explore other usage of wildcards later!
</details>
<p><br /></p>

<p>What’s in <code class="language-plaintext highlighter-rouge">directoryA/fileA</code>?</p>
<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>cat directoryA/fileA  </pre>
  OR
  <pre>less directoryA/fileA  </pre>
  To leave <code>less</code> press q.&lt;/br&gt;
  There are a lot more choices!
</details>
<p><br /></p>

<h3 id="super-basic-file-and-directory-handling">Super Basic File and Directory Handling</h3>

<p>Make a file named <code class="language-plaintext highlighter-rouge">fileX</code> with <code class="language-plaintext highlighter-rouge">1+1=3</code> as its content.</p>
<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>nano fileX  
# type in 1+1=3  
# control C  
# click Y  </pre>
  OR 
  <pre>echo 1+1=3 &gt; fileX  </pre>
</details>
<p><br /></p>

<p>Make a directory called <code class="language-plaintext highlighter-rouge">Knowledge</code> and make two subdirectories in <code class="language-plaintext highlighter-rouge">Knowledge</code> called <code class="language-plaintext highlighter-rouge">Facts</code> and <code class="language-plaintext highlighter-rouge">Believes</code>.</p>
<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>mkdir Knowledge  
mkdir Knowledge/Facts  
mkdir Knowledge/Believes  </pre>
</details>
<details>
  <summary><b><u>Click to learn more</u></b></summary>
  You can make all directories at once!
  <pre>mkdir -p Knowledge/Facts Knowledge/Believes  </pre>
  <code>-p</code> is "recursive" this way you can create the parent and child directories at the same time.
</details>
<p><br /></p>

<p>ConCATenate <code class="language-plaintext highlighter-rouge">fileY</code> and <code class="language-plaintext highlighter-rouge">fileZ</code> and append them to the end of <code class="language-plaintext highlighter-rouge">fileX</code></p>
<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>cat fileX fileY fileZ &gt; temp  
mv temp fileX   </pre>
  You can't simply run 
  <pre>cat fileX fileY fileZ &gt; fileX  </pre>
  It is because the fileX is opened as a writing file already and cannot be read. And this solution is not elegant, so check <code>Click to learn more!</code>.
</details>
<details>
  <summary><b><u>Click to learn more!</u></b></summary>
  You can use <code>&gt;&gt;</code> to append things to a file, super useful!
  <pre>cat fileY fileZ &gt;&gt; fileX  </pre>
</details>
<p><br /></p>

<p>CoPy <code class="language-plaintext highlighter-rouge">fileX</code> into <code class="language-plaintext highlighter-rouge">Knowledge/Facts</code> and rename it into <code class="language-plaintext highlighter-rouge">math</code></p>
<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>cp fileX Knowledge/Facts  
mv Knowledge/Facts/fileX Knowledge/Facts/Math  </pre>
  OR
  <pre>cp fileX Knowledge/Facts/Math  </pre>
</details>
<p><br /></p>

<p>Make <code class="language-plaintext highlighter-rouge">they're definitely correct</code> to the end of <code class="language-plaintext highlighter-rouge">fileX</code> without using <code class="language-plaintext highlighter-rouge">nano</code>.</p>
<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>echo "they're definitely correct" &gt;&gt; fileX  </pre>
  Notice the apostrophe will open a quote, so we need to use the double quotes to suppress it.
</details>
<p><br /></p>

<p>ReMove <code class="language-plaintext highlighter-rouge">Knowledge/Facts/math</code></p>
<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>rm Knowledge/Facts/math  </pre>
</details>
<p><br /></p>

<p>ReMove <code class="language-plaintext highlighter-rouge">Knowledge</code></p>
<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>rm -r Knowledge  </pre>
</details>
<p><br /></p>

<p><img src="/img/band.png" alt="band" />
<br /></p>

<h2 id="new-stuff">New stuff!</h2>

<h3 id="compressions--archives">Compressions &amp; Archives</h3>
<p>In bioinformatics we often deal with large files, and so we need to compress the files. Also, there will be times you want to package a folder into an archive, so it’s easier to move around. Here you’ll learn about how to handle these files!
<br /></p>

<h4 id="compression">Compression</h4>
<p>The most common compression method is <code class="language-plaintext highlighter-rouge">gzip</code>. You might be quite familiar with <code class="language-plaintext highlighter-rouge">zip</code>, but that’s mostly used in Windows. <br />
First, make two file called <code class="language-plaintext highlighter-rouge">mouth</code> and <code class="language-plaintext highlighter-rouge">pants</code>, and try to compress them (You can add any content you want into the two files.)<br />
Since we are learning, let’s get some help.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gzip -h
</code></pre></div></div>

<p>It opens a manual and tells you how to use this command:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gzip [-123456789acdfhklLNnqrtVv] [-S .suffix] [&lt;file&gt; [&lt;file&gt; ...]]
</code></pre></div></div>

<p>It is a little bit confusing, but what you need to know is anything start with a <code class="language-plaintext highlighter-rouge">-</code> means it’s an option, and the manual tells you what they are below. You don’t need the options right now, here we only need <code class="language-plaintext highlighter-rouge">file</code>, without brackets, greater and lesser signs.</p>

<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>gzip mouth pants  </pre>
</details>
<p><br /></p>

<p>After zipping it, list all files, what did you find?</p>

<p>Let’s unzip it with <code class="language-plaintext highlighter-rouge">gunzip</code> first.</p>

<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>gunzip *.gz  &lt;/code&gt;
  If you want to do this, you should make sure that there's no other gz files.
&lt;/details&gt;
<br />

What if we want to keep the original file when compressing??  
Go check the manual again to see what you can do!

<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>gzip -k mouth pants  </pre>
  OR
  <pre>gzip --keep mouth pants  </pre>
</details>


<details>
  <summary><b><u>Fun Fact</u></b></summary>

  Compressibility can be used to estimate the complexity and relatedness of genomes. <br />
  See <a href="/ref/Chen2000.pdf">Chen et al. 2000</a>  

</details>
<br />

#### Archive
We will use `tar` to arcive.  
Let's make a folder called `stuffs` and put `mouth` and `pants` in it. We will arcive `stuffs` into `stuffs.tar`  
Now, use `-h` again to get some help.

```
tar -h
```

You will see that tar is a lot more complicated, it can do a lot of things!  

```
First option must be a mode specifier:
  -c Create  -r Add/Replace  -t List  -u Update  -x Extract
```

Since we want to make a new archive, we want to focus on `Create`:

```
Create: tar -c [options] [<file> | <dir> | @<archive> | -C <dir> ]
```

As well as the common options:

```
Common Options:
  -b #  Use # 512-byte records per I/O block
  -f <filename>  Location of archive
  -v    Verbose
  -w    Interactive
```

And so this mean that we need `-c` to create and `-f` to indicate the name of the archive you want to create (Yes, I agree. `tar`'s manual isn't the best).  
People often use `-v` so they can track the progress, too.

With all the information, let's try to archive!
<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>tar -c -v -f stuffs.tar stuffs  &lt;/code&gt;
  You can also put the three options altogether!
  <pre>tar -cvf stuffs.tar stuffs  </pre>
&lt;/details&gt;
<br />

List the files, what did you see?

Now, remove the `stuffs` folder, and extract the tar file.  
(Use `-h` for information!)

<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>rm -r stuffs  
tar -x -v -f stuffs.tar stuffs  </pre>
  OR
  <pre>rm -r stuffs  
tar -xvf stuffs.tar stuffs</pre>
</details>
<br />

#### Archive + Compress
You can archive and compress at the same time with `tar`!  
We will archive and compress `stuff` into `stuff.tar.gz`

Same drill: use `-h` for help and figure out how to do it!  
(You don't need the patterns)
<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>tar -czvf stuffs.tar.gz stuffs  </pre>
</details>
<br />

Compare the file size between compressed and uncompressed archives.  
Remember how to do it?
<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>ls -lh stuffs.tar*  </pre>
</details>
<br />

#### See contents in tar without unpacking
Sometimes an archive is so huge, say 200 GB. You know extracting it will crash your poor laptop, but you want to know what's inside. What should you do?

Let's look at `List` in the `tar` manual! You should be able to figure out how to do it.

<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>ls -lh stuffs.tar*  </pre>
</details>
<br />

Now, extract `mouth` only (Same drill)

<details>
  <summary><b><u>Hint</u></b></summary>
  Remember that you need to provide the full path
  <pre>tar -xzf stuffs.tar stuffs/mouth  </pre>
</details>
<br />

#### Read compressed files without extraction
You can actually read compressed files without extracting them into new files! But, why do we want to do that? Because we can directly feed it into other commands with pipes `|`, which saves disk space and computational time (We will talk about it later).

Let's just run the followings
```
echo nonsense &gt; temp.txt
gzip temp.txt
gzcat temp.txt.gz
```

### head and tail
You know `head` already it spits out the first few lines of a file.  
But do you know `head` can do more than that?  
For example, you can specify how many lines you want it to spit out.  
Let's get some help first. 

```
head -h
```

Uh oh, `head` doesn't have `-h` option. But it still tells you how to use the command!  
Why don't we try to read file see what's the first 20 lines of `XXXXXXX`?

<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>head -n 20 XXXXXXX  </pre>
</details>
<br />

Now, let's try to use `tail` to find out the last 30 lines of `XXXXXXX`. (The syntax is the same).

<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>tail -n 30 XXXXXXX  </pre>
</details>
<br />

Sometimes, you want to remove the first few lines. And you can use `tail` to do that!  
However, we don't have a good manual. So, let's google to get help and try to remove the first line using `tail`!

<details>
  <summary><b><u>Hint</u></b></summary>
  <pre>tail -n +2 Linux.markdown  </pre>
</details>
<br />

<details>
  <summary><b><u>Click to learn more!</u></b></summary>
  <code>head</code> should be able to do similar things, too, but it depends on the version that you have: My laptop isn't capable of that :(.
</details>
<br />

![band](/img/band.png)
<br />

## Good practice and micellaneous things you should know

### Don't use Word to store your codes
Word messes up everything! To prove it, try TYPE in the following and paste in terminal.

```
echo "stupid" &gt; Microsoft Word
```

What did you find?  

OK so it's not Word is stupid but it's too smart that it automatically changes some of the characters for the writers. However, it's not good for Bioinformatics.  
So, I suggest you use a text editor or [Visual Studio Code](https://code.visualstudio.com/) to store your codes.  
(Visual Studio Code is quite useful. It understand some computer languages and will highlight things to help you read your codes.)

<br />

### comm and diff



<br />

### New line and Carriage Return?
Sometimes codes behaves weirdly, why are txt files sometimes have blank lines when loaded into R?  
So, a new line is actually a character `\n` in Linux (and Unix) (and a tab is `\t`). However, in Windows it's `\r\n`, older MacOS use `\r`.

<details>
  <summary><b><u>Fun Fact</u></b></summary>

  Here, <code>\n</code> means New line and <code>\r</code> means carriage Return and it's because in type writer world you need to first return the carriage <code>\r</code> and make a line break <code>\n</code>.
</details>

You can run something like below to remove `\r` (but it would not work for old MacOS)

```
sed 's/\r//g'
```

We will learn about `sed` more later!

## Also see
</pre></details></filename></dir></archive></dir></file></pre></details>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Coinvasion Bioinformatics 2022</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Coinvasion Bioinformatics 2022</li><li><a class="u-email" href="mailto:yen-wen.wang@yale.edu">yen-wen.wang@yale.edu</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Bioinformatics course for Coinvasion workshop 2022</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
